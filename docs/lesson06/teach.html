<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Team Activity</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
    <script src="../site/color.js"></script>
</head>

<body onload="cse111.color.addSchemeHandlers()">
<header>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <div class="colorCtrls"><span name="dark">&#x263e;</span>
        <span name="light">&#x263c;</span></div>
    <h2>CSE 111 | <span>Programming with Functions</span></h2>
</header>
<article>
    <h1>06 Team Activity: Translating Text</h1>

    <h2>Instructions</h2>
    <p>Arrange a one hour synchronous meeting with your team for this
    activity. Online students should coordinate a video-sharing meeting.
    Campus students will use class time for this meeting. You should
    prepare for this meeting by completing the preparation material and
    the individual checkpoint assignment beforehand.</p>

    <h2>Problem Statement</h2>
    <p>Many programs need to read and write text files. Often that text
    will be in languages other than English. Early electronic computers
    were able to process and store English characters only. In 1987,
    several individuals began investigating the possibility of a
    universal character set that would enable computers to store and
    transmit characters from all human languages. Their work led to the
    international standard known as Unicode. The Unicode standard
    assigns a unique number to every character or almost every character
    written by humans throughout the history of the world.</p>

    <p>During this exercise you will learn to open a <a target="_blank"
    href="https://docs.python.org/3/glossary.html#term-text-file">text
    file</a> for writing and write text to it, including text in
    languages other than English. You will also learn about the optional
    parameters of the <code>open</code> function.</p>

    <h2>Helpful Documentation</h2>
    <ul>
        <li><div><a target="_blank" href="https://home.unicode.org/basic-info/overview/">Unicode overview</a></div></li>

        <li><div>Python <a target="_blank" href="https://docs.python.org/3/library/codecs.html#encodings-and-unicode">encodings and Unicode</a></div></li>

        <li><div><a target="_blank" href="https://docs.python.org/3/library/codecs.html#standard-encodings">Standard encodings</a> in Python</div></li>

        <li><div>Built-in Python <a target="_blank" href="https://docs.python.org/3/library/functions.html#open">open function</a></div></li>

        <li><div><a target="_blank" href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files">Reading and Writing Files</a></div></li>

        <li><div><a target="_blank" href="https://requests.readthedocs.io/en/master/user/quickstart/#make-a-request">Make a request</a> with the <code>requests</code> module</div></li>

        <li><div><a target="_blank" href="https://tech.yandex.com/translate/doc/dg/concepts/about-docpage/">Developer's guide</a> for the Yandex translation service</div></li>
    </ul>

    <h2>Assignment</h2>
    <p>Write a Python program that reads text from a text file, uses the
    <code>requests</code> module to send that text to an online machine
    translation service, and then saves the translated text to another
    text file.</p>

    <p>Do the following:</p>
    <ol class="long">
        <li><div>Start your program in a blank file and import the
        <code>requests</code> module.</div></li>

        <li><div>Write a function named <code>read_text_file</code> that
        takes one parameter named <var>filename</var>. This function
        must open a text file for reading, read all the text in the
        file, and return that text. When writing the code to open the
        file, be certain to use the named argument <var>mode</var> to
        open the file for reading and use the named argument
        <var>encoding</var> to open the file with the utf-8
        encoding.</div></li>

        <li><div>Write a function named <code>write_text_file</code>
        that takes two parameters named <var>filename</var> and
        <var>text</var>. This function must open a text file for writing
        and write all the text to the file. When writing the code to
        open the file, be certain to use the named argument
        <var>mode</var> to open the file for writing and use the named
        argument <var>encoding</var> to open the file with the utf-8
        encoding.</div></li>

        <li><div><p>Write a function named <code>test_io</code> that
        takes no parameters. This function must call
        <code>write_text_file</code> to write the following string to a
        text file named "forgive.txt". Then <code>test_io</code> must
        call <code>read_text_file</code> to read the contents of
        <code>forgive.txt</code> and then print the text returned from
        <code>read_text_file</code>.</p>

<div class="pre"><pre class="python">matt_6_14 = \
    """For if ye forgive men their trespasses,
    your heavenly Father will also forgive you.
    á¼á½°Î½ Î³á½°Ï á¼€Ï†á¿†Ï„Îµ Ï„Î¿á¿–Ï‚ á¼€Î½Î¸ÏÏÏ€Î¿Î¹Ï‚ Ï„á½° Ï€Î±ÏÎ±Ï€Ï„ÏÎ¼Î±Ï„Î± Î±á½Ï„á¿¶Î½,
    á¼€Ï†Î®ÏƒÎµÎ¹ ÎºÎ±á½¶ á½‘Î¼á¿–Î½ á½ Ï€Î±Ï„á½´Ï á½‘Î¼á¿¶Î½ á½ Î¿á½ÏÎ¬Î½Î¹Î¿Ï‚.
    ğ™ğ«ğ‘‰, ğ®ğ‘ ğ· ğ‘ğ²ğ‘‰ğ‘€ğ®ğ‘‚ ğ‘‹ğ¯ğ‘Œ ğ‘„ğ¯ğ‘‰ ğ»ğ‘‰ğ¯ğ‘…ğ¹ğ°ğ‘…ğ®ğ‘†,
    ğ·ğ«ğ‘‰ ğ¸ğ¯ğ‘‚ğ²ğ‘Œğ‘Šğ¨ ğ™ğ±ğ‘„ğ²ğ‘‰ ğ¶ğ®ğ‘Š ğ«ğ‘Šğ‘…ğ¬ ğ‘ğ²ğ‘‰ğ‘€ğ®ğ‘‚ ğ·ğ­.
    """</pre></div>

        <p>Notice that the string includes characters from English,
        Greek, and the Deseret alphabet. It is important that the test
        string includes characters from other languages so that you can
        verify that your <code>write_text_file</code> and
        <code>read_text_file</code> functions are working
        correctly.</p></div></li>

        <li><div>At the bottom of your program, write a line of code to
        call the test_io function. For example:
<div class="pre"><pre class="python">test_io()</pre></div>
        Then run your program and verify that your program correctly
        prints the string from above by opening the
        <code>forgive.txt</code> file in VS Code. All the characters in
        <code>forgive.txt</code> should look the same as they look above
        in this web page. After you have verified that your
        <code>write_text_file</code> and <code>read_text_file</code>
        functions are working correctly, delete the call to the
        <code>test_io</code> function.</div></li>

        <li><div><p>Write a function named <code>translate</code> that
        has three parameters: <var>text</var>, <var>src_lang</var>, and
        <var>targ_lang</var>. This function must use the
        <a target="_blank" href="https://requests.readthedocs.io/en/v0.8.2/api/#requests.post"><code>post</code></a>
        function in the <code>requests</code> module
        to send the text to the online machine translation service at
        <a target="_blank" href="https://tech.yandex.com/translate/doc/dg/reference/translate-docpage/">Yandex</a>
        and must return the translated text. Look in your I-Learn course
        for the API key that you will need in the post
        request.</p>

        <p>To understand what the call to <code>requests.post</code>
        must include, consider the following excerpt from the Yandex
        documentation:</p>
        <blockquote>
        <h3>Request syntax</h3>
<pre>https://translate.yandex.net/api/v1.5/tr.json/translate
 ? key=&lt;API key&gt;
 &amp; text=&lt;text to translate&gt;
 &amp; lang=&lt;translation direction&gt;
 &amp; [format=&lt;text format&gt;]
 &amp; [options=&lt;translation options&gt;]
 &amp; [callback=&lt;name of the callback function&gt;]</pre>
        </blockquote>
        <p>In templates like this one from Yandex, parts that are in
        square brackets are optional, so we don't need to worry about
        the <code>format</code>, <code>options</code>, or <code>callback</code>
        right now. Let's take the other parts and create a URL, complete
        with parameters after the question mark:</p>

        <p>https://translate.yandex.net/api/v1.5/tr.json/translate?key=API_key&amp;lang=en-pt&amp;text=Hello</p>

        <p>Give it a try. Copy and paste the above URL into the address
        bar of your browser. Replace "API_key" with the API key which
        you can find in your I-Learn course. Then press enter. What is
        the Yandex server's response? For me, it is this dictionary:</p>

        <blockquote>{"code":200,"lang":"en-pt","text":["OlÃ¡"]}</blockquote>

        <p>Examining the server's response, we see</p>
        <ul>
            <li><div>A status <code>code</code> of 200, which means
            success.</div></li>
            <li><div>A <code>lang</code> of en-pt, which means the
            server translated from English to Portuguese.</div></li>
            <li><div>Translated text inside a list: OlÃ¡ is Portuguese
            for Hello.</div></li>
        </ul>

        <p>What does all of this information mean for the call to
        <code>requests.post</code>? The call must include a URL endpoint
        and two dictionaries like this:</p>

<div class="pre"><pre class="python">
endpoint = "https://translate.yandex.net/api/v1.5/tr.json/translate"
params_dict = {
    "key" : "The API key is in your I-Learn course.",
    "lang" : "en-pt"
}
data_dict = {
    "text" : "Hello"
}
response = requests.post(endpoint, params=params_dict, data=data_dict)
</pre></div></div></li>

        <li><div>Write the <code>main</code> function to do the
        following for these three files:
        <a download href="sermon_en.txt">sermon_en.txt</a>,
        <a download href="upward_en.txt">upward_en.txt</a>, and
        <a download href="numsys_en.txt">numsys_en.txt</a>
        <ol>
            <li><div>Call <code>read_text_file</code> to read the text
            in the file.</div></li>
            <li><div>Call the <code>translate</code> function to
            translate the text to another language. Choose the language
            from the <a target="_blank" href="https://tech.yandex.com/translate/doc/dg/concepts/api-overview-docpage/">list
            of languages</a> (follow the link and scroll down) that are
            supported by Yandex.</div></li>
            <li><div>Call <code>write_text_file</code> to write the
            translated text to another file.</div></li>
        </ol></div></li>
    </ol>

    <h3>Core Requirements</h3>
    <ol class="long">
        <li><div>Your program must include the
        <code>read_text_file</code>, <code>write_text_file</code>, and
        <code>test_io</code> functions that work correctly as described
        above.</div></li>

        <li><div>Your program must include the <code>translate</code>
        function that translates text as described above.</div></li>

        <li><div>Your program must include the main function that reads
        three text files, translates them, and writes them to different
        files.</div></li>
    </ol>

    <h3>Stretch Challenges</h3>
    <p>If your team finishes the core requirements in less than an
    hour, complete one or more of these stretch challenges. Note that
    the stretch challenges are optional.</p>

    <ol class="long">
        <li><div>Add something or change something in your program that
        you think would make your program better, easier for the user,
        more elegant, or more fun. Be creative.</div></li>

        <li><div>Add a feature to your program that allows the user to
        choose which language the text will be translated into.</div></li>

        <li><div>Write comments above the lines of code that were
        difficult for you to understand.</div></li>
    </ol>

    <h2>Testing Procedure</h2>
    <p>Verify that your program works correctly by following each step
    in this testing procedure:</p>
    <ol class="test long">
        <li><div>After finishing step 5 above, run your program and
        verify that your program correctly wrote the multi-language
        string to the <code>forgive.txt</code> file. Open the
        <code>forgive.txt</code> file in VS Code. All the characters in
        <code>forgive.txt</code> should look the same as they look above
        in this web page.</div></li>

        <li><div>After finishing all seven steps above, run your program
        and verify that it correctly translates the three text files and
        writes the translated text to three other files.</div></li>
    </ol>

    <h2>Sample Solution</h2>
    <p>Please work diligently with your team for the one hour meeting.
    After the meeting is over, please compare your approach to the
    <a download href="teach_solution.py">sample solution</a>. Please
    <strong>do not look at the sample solution</strong> until you have
    either finished the program or diligently worked for at least one
    hour. At the end of the hour, if you are still struggling to
    complete the assignment, you may use the sample solution to help you
    finish.</p>

    <h2>Submission</h2>
    <p>When you have finished the activity, please report your progress
    via the associated I-Learn quiz. When asked about which of the
    requirements you completed, feel free to include any work done
    during the team meeting or after the meeting, including work done
    with the help of the sample solution, if necessary. In short, report
    on what you were able to accomplish, regardless of when you
    completed it or if you needed help from the sample solution.</p>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
