<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Prepare</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
    <link rel="stylesheet" type="text/css" href="../site/hljs/vscode.css">
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
    <script src="../site/url.js"></script>
    <script src="../site/urlWrite.js"></script>
    <script src="../site/color.js"></script>
    <script src="../site/linenums.js"></script>
    <script src="../site/hljs/highlight.pack.js"></script>
</head>

<body>
<header>
    <div class="colorCtrl">&nbsp;</div>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <h2>CSE 111 | <span>Programming with Functions</span></h2>
</header>
<article>
    <h1>09 Prepare: Dictionaries</h1>
    <p>During this lesson, you will learn about dictionaries and use
    them in Python programs.</p>

    <h2>Videos</h2>
    <p>Watch this video about
    <a href="https://realpython.com/lessons/dictionary-python/">dictionaries</a>
    in Python.</p>

    <h2>Concepts</h2>
    <h3 id="textFiles">Text Files</h3>
    <p>The built-in
    <a href="https://docs.python.org/3/library/functions.html#open"><code>open()</code></a>
    function opens a file for reading or writing. The
    <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects"><code>file.read()</code></a>
    method reads characters or bytes from a file. The
    <a href="https://docs.python.org/3/library/stdtypes.html#str.splitlines"><code>string.splitlines()</code></a>
    method breaks a string into a list of strings, breaking at line
    boundaries. The following code example uses the built-in
    <code>open</code> function and <code>file.read</code> and
    <code>string.splitlines</code> methods to read the contents of a
    text file into a list.</p>

<div class="pre"><pre class="python" id="ex4">
# Open the plants.txt file for reading.
with <em>open("plants.txt", "rt")</em> as infile:

    # Read all the characters in the file into a string.
    <em>string = infile.read()</em>

# Split the string into a list of strings named
# plants. Each line from the plants.txt file
# will be stored in its own element in the list.
<em>plants = string.splitlines()</em>

# Print the entire list.
print(plants)</pre></div>

    <h2>Example - Reading from a File</h2>
    <p>The example program shown below handles exceptions that might
    occur when the program opens and reads from a file. This program
    contains only one <code>try</code> block, which begins at
    <span class="cross" data-ref="ex3">line&nbsp;4</span>
    and includes all the regular code in the main function.
    This one try block has four <code>except</code> blocks at
    <span class="cross" data-ref="ex3">lines&nbsp;40, 44,&nbsp;48,
    and&nbsp;52</span>.</p>

    <p>Each of the <code>except</code> blocks handles a different type
    of exception. The first three <code>except</code> blocks handle
    specific exceptions: <code>FileNotFoundError</code>,
    <code>PermissionError</code>, and <code>ZeroDivisionError</code>.
    The last <code>except</code> block handles
    <code>RuntimeError</code>, which is a general exception.
    <code>RuntimeError</code> is probably the most general type of
    exception that we want to handle in a Python program. The
    description above the first example program explains why.</p>

<div class="pre"><pre class="linenums"></pre>
<pre class="python" id="ex3">
import csv


def main():
    <em>try:</em>
        # Open the fuel_usage.csv file.
        filename = "fuel_usage.csv"
        with open(filename, "rt") as usage_file:

            # Use the standard csv module to get
            # a reader object for the CSV file.
            reader = csv.reader(usage_file)

            # The first line of the CSV file contains headings
            # and not fuel usage data, so this statement skips
            # the first line of the CSV file.
            next(reader)

            # Print headers for the three columns.
            print("Date,Start,End,Gallons,Miles/Gallon")

            # Process each row in the CSV file.
            for row in reader:

                # From the current row of the CSV file, get
                # the date, the starting and ending odometer
                # readings, and the number of gallons used.
                date = row[0]
                start_miles = float(row[1])
                end_miles = float(row[2])
                gallons = float(row[3])

                # Call the miles_per_gallon function.
                mpg = miles_per_gallon(start_miles, end_miles, gallons)

                # Display the results for one row.
                mpg = round(mpg, 1)
                print(date, start_miles, end_miles, gallons, mpg, sep=",")

    <em>except FileNotFoundError as file_not_found_err:</em>
        print(f"Error: cannot open {filename}"
                " because it doesn't exist.")

    <em>except PermissionError as perm_err:</em>
        print(f"Error: cannot read from {filename}"
                " because you don't have permission.")

    <em>except ZeroDivisionError as zero_div_err:</em>
        print(f"Error: {filename} contains a"
                " zero in the gallons column.")

    <em>except RuntimeError as run_err:</em>
        print(type(run_err).__name__, run_err, sep=": ")


def miles_per_gallon(start_miles, end_miles, gallons):
    """Compute and return the average number of miles
    that a vehicle traveled per gallon of fuel.
    start_miles and end_miles are odometer readings in miles.
    gallons is a fuel amount in U.S. gallons.
    """
    mpg = abs(end_miles - start_miles) / gallons
    return mpg


# Call the main function so that
# this program will start executing.
main()</pre></div>

    <h2>Documentation</h2>
    <p>If any of the concepts or topics in the previous list seem
    unfamiliar to you, reading these tutorials may help you recall
    these programming concepts from CSE 110.</p>

    <ul class="links">
        <li><div><a href="https://realpython.com/python-for-loop/">Python "for" Loops</a></div></li>
        <li><div><a href="https://realpython.com/python-while-loop/">Python "while" Loops</a></div></li>
        <li><div><a href="https://realpython.com/python-csv/">Reading and Writing CSV Files in Python</a></div></li>
    </ul>

    <p>You could also read some of the Python tutorials at
    <a href="https://www.w3schools.com/python/default.asp">W3 Schools</a>.
    Or you could search for "Python" in the
    <a href="https://library.byui.edu">online catalog</a> of the
    BYU-Idaho library and read one of the online books from the result
    set.</p>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
