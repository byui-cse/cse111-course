<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Prepare</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
    <link rel="stylesheet" type="text/css" href="../site/hljs/vscode.css">
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
    <script src="../site/url.js"></script>
    <script src="../site/urlWrite.js"></script>
    <script src="../site/color.js"></script>
    <script src="../site/linenums.js"></script>
    <script src="../site/hljs/highlight.pack.js"></script>
</head>

<body>
<header>
    <div class="colorCtrl">&nbsp;</div>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <h2>CSE 111 | <span>Programming with Functions</span></h2>
</header>
<article>
    <h1>09 Prepare: Text Files</h1>
    <p>During this lesson, you will learn about reading data from text
    files in a Python program.</p>

    <h2>Concepts</h2>
    <p>Most computers permanently store lots data on devices such as
    hard drives, solid state drives, and thumb drives. The data that is
    stored on these devices is organized into files. Just as a human can
    write words on a paper, a computer can store words and other data in
    a file.</p>

    <p>Broadly speaking, there are two types of files:&nbsp; text files
    and binary files. A <dfn>text file</dfn> stores words and numbers as
    human readable text. A <dfn>binary file</dfn> stores pictures,
    diagrams, sounds, movies, and other media as numbers in a format
    that is not directly readable by humans. In this lesson, you will
    learn how to write Python code that reads data from text files.</p>

    <h3 id="textFiles">Text Files</h3>
    <p>In order to read data from a text file, the file must exist on
    one of the computer's drives, and your program must do these three
    things:</p>

    <ol>
        <li><div>Open the file for reading text</div></li>
        <li><div>Read from the file, usually one line of text at a
        time</div></li>
        <li><div>Close the file</div></li>
    </ol>

    <p>The built-in <a href="https://docs.python.org/3/library/functions.html#open"><code>open</code></a>
    function opens a file for reading or writing. Here is an excerpt
    from the official documentation for the <code>open</code>
    function:</p>

    <dl class="function">
        <dt><code>open(filename, mode="rt")</code></dt>
        <dd><p>Open a file and return a corresponding file
        object.</p>
        <p><var>filename</var> is the name of the file to be
        opened.</p>
        <p><var>mode</var> is an optional string that specifies the
        mode in which the file will be opened. It defaults to
        <code>'rt'</code> which means open for reading in text mode.
        Other common values are <code>'wt'</code> for writing a text
        file (truncating the file if it already exists), and
        <code>'at'</code> for appending to the end of a text
        file.</p></dd>
    </dl>

    <p>After the code that calls the built-in <code>open</code>
    function, we can write a <code>for</code> loop that reads the text
    from the open file. The <code>for</code> loop will read from the
    file one line of text at a time and will repeat the statements in
    the body of the <code>for</code> loop once for each line of text in
    the file.</p>

    <p>After the <code>for</code> loop that reads from the file, we can
    write a call to the <code>file.close</code> method. However, most
    programmers use a <code>with</code> block when calling the
    <code>open</code> function and nest the <code>for</code> loop inside
    the <code>with</code> block. When the <code>with</code> block ends,
    the computer will automatically close the file.</p>

    <p>Here is a code example that opens a text file named
    <code>plants.txt</code> for reading and then reads each line of text
    one at a time. In the body of the <code>for</code> loop the code
    removes surrounding white space from each line of text and stores
    each line of text in a list.</p>

<div class="pre"><pre class="python" id="ex1">
# Create an empty list named text_lines.
text_lines = []

# Open the plants.txt file for reading and store a reference
# to the opened file in a variable named plants_file.
with open("plants.txt", "rt") as plants_file:

    # Read the contents of the text
    # file one line at a time.
    for line in plants_file:

        # Remove white space, if there is any,
        # from the beginning and end of the line.
        clean_line = line.strip()

        # Append the clean line of text
        # onto the end of the list.
        text_lines.append(clean_line)

# Print the entire list.
print(text_lines)</pre></div>

    <h3 id="csvFiles">CSV Files</h3>
    <p>Many computer systems import and export data in CSV files. CSV is
    an acronym for comma separated values. A <dfn>CSV file</dfn> is a
    text file that contains tabular data where each row is on a separate
    line and each cell (column) is separated by a comma. The following
    example is the contents of a CSV file that stores information about
    some dental offices in Rexburg, Idaho. Notice that the first row of
    the file contains column headings, the next four rows contain
    information about four dental offices, and each row contains three
    columns separated by commas.</p>

<div class="pre"><pre class="csv">
Company Name,Address,Phone Number
Eagle Rock Dental Care,556 Trejo Suite C,208-359-2224
Apple Tree Dental,33 Winn Drive Suite 2,208-359-1500
Rockhouse Dentistry,106 E 1st N,208-356-5600
Cornerstone Family Dental,44 S Center Street,208-356-4240
</pre></div>

    <p>Python has a module named
    <a href="https://docs.python.org/3/library/csv.html"><code>csv</code></a>
    that includes functionality to read from and write to CSV files. The
    following example code shows how to open a CSV file and use the
    <code>csv</code> module to read the data and store it in a
    dictionary. Remember that each item in a dictionary is a key value
    pair. Notice in the code example that the last cell in each row is
    used as the key and the other cells in each row are used as the
    value in each dictionary item.</p>

<div class="pre"><pre class="python" id="ex2">
import csv

# Create an empty dictionary that will
# store the data from the CSV file.
dentists = {}

# Open a file named dentists.csv and store a reference
# to the opened file in a variable named dentists_file.
with open("dentists.csv", "rt") as dentists_file:

    # Use the csv module to create a reader
    # object that will read from the opened file.
    reader = csv.reader(dentists_file)

    # The first line of the CSV file contains column headings
    # and not information about a dental office, so this
    # statement skips the first line of the CSV file.
    next(reader)

    # Read each row in the CSV file one at a time.
    # The reader object returns each row as a list.
    for row in reader:

        # For the current row, retrieve the
        # values in columns 0, 1, and 2.
        company = row[0]
        address = row[1]
        phone = row[2]

        # Store the data from the current row into the dentists
        # dictionary. Use the phone number as the key. Create a
        # list with the company name and address as the value.
        dentists[phone] = [company, address]

# Print the entire dentists dictionary.
print(dentists)</pre></div>

    <h2>Documentation</h2>
    <p>If any of the concepts or topics in the previous section seem
    unfamiliar to you, reading these tutorials may help you understand
    the concepts better.</p>

    <ul class="links">
        <li><div><a href="https://realpython.com/python-for-loop/">Python "for" Loops</a></div></li>
        <li><div><a href="https://realpython.com/python-csv/">Reading and Writing CSV Files in Python</a></div></li>
    </ul>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
