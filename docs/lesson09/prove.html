<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Prove</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
</head>

<body>
<header>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <h1>CSE 111 | Programming with Functions</h1>
</header>
<article>
    <h1>09 Prove Milestone: Data Analysis</h1>

    <h2>Overview</h2>
    <p>Prove that you can write a Python program that uses
    <code>pandas</code> to read and analyze data.</p>

    <h2>Helpful Documentation</h2>
    <ol class="long">
        <li><div>To <a target="_blank" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/intro_tutorials/05_add_columns.html">create a new column</a>
        derived from existing columns, use the [] brackets with the new
        column name on the left side of the assignment operator (=). For
        example:
<div class="pre"><pre class="python">import pandas as pd

df = pd.read_csv("filename.csv")
<em>df["new_column_name"] = df["existing_column_name"] * 3</em></pre></div></div></li>

        <li><div>To extract parts of datetime values, use the
        <code>.dt</code> attribute and the <code>.to_period</code>
        function
        (<a target="_blank" href="https://www.interviewqs.com/ddi_code_snippets/extract_month_year_pandas">tutorial</a>,
        <a target="_blank" href="https://stackoverflow.com/questions/23840797/convert-a-column-of-timestamps-into-periods-in-pandas">stack overflow question</a>,
        <a target="_blank" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.to_period.html">official documentation</a>).
        For example:
<div class="pre"><pre class="python">import pandas as pd

df = pd.read_csv("filename.csv")
<em>column = df["datetime_column"].dt.to_period("M")</em></pre></div></div></li>
    </ol>

    <h2>Assignment</h2>
    <p>During this lesson and the next lesson, you will write a Python
    program that uses <code>pandas</code> to analyze <a download
    href="water.csv">water usage data</a> from the City of Rexburg. Your
    program must be separated into functions where each function
    performs one task only. Your program will allow a user to enter a
    water meter number, a start year, and an end year and then display
    at least two charts to help the user visualize the data for the
    given meter number. During this prove milestone, you will write code
    to read the CSV file, get the user input, and filter and prepare the
    data. During the next prove assignment, you will write code to draw
    the charts.</p>

    <p>Download this Python file: <a download
    href="meter_usage.py"><code>meter_usage.py</code></a> and save it in
    the same folder where you previously saved the
    <code>water.csv</code> file. Open the <code>meter_usage.py</code>
    file in VS Code. Notice that all the functions in the
    <code>meter_usage.py</code> file, except
    <code>add_usage_median_column</code>, are incomplete, and you need
    to complete them. During this prove milestone, you should
    complete these functions:</p>
    <ul>
        <li><div><code>get_int</code></div></li>
        <li><div><code>insert_after</code></div></li>
        <li><div><code>add_year_month_column</code></div></li>
        <li><div><code>filter_for_meter</code></div></li>
        <li><div><code>filter_between_dates</code></div></li>
    </ul>
    <p>You should also write code in <code>main</code> to call your
    completed functions to produce the output shown in the "Sample Run"
    section. During the next prove assignment, you should complete these
    functions:</p>
    <ul>
        <li><div><code>show_meter_usage</code></div></li>
        <li><div><code>show_comparison</code></div></li>
        <li><div>any other functions that you add</div></li>
    </ul>

    <!--
    Notice also that while reading the function description for the
    <code>main</code> function, it may seem that <code>main</code>
    violates the rule that each function must perform one task only.
    However, <code>main</code> does perform one high-level task only.
    Its task is to fulfill the requirements of the program by calling
    the other functions.
    -->

    <h2>Sample Run</h2>
<pre class="console">&gt; python prove_solution.py
Enter a meter number ('q' to quit): <span class="input">M4103</span>
Enter a start year between 2015 and 2019, inclusive: <span class="input">2018</span>
Enter an end year between 2018 and 2019, inclusive: <span class="input">2019</span>

Meter number: M4103
      yearMonth  usage  medianUsage
84126   2018-01      2          4.0
84127   2018-02      2          4.0
84128   2018-03      2          4.0
84129   2018-04      1          4.0
84130   2018-05      8         10.0
84131   2018-06     16         19.0
84132   2018-07     32         35.0
84133   2018-08     50         42.0
84134   2018-09     31         40.0
84135   2018-10      8         20.0
84136   2018-11      2          5.0
84137   2018-12      2          4.0
84138   2019-01      2          4.0
84139   2019-02      2          4.0
84140   2019-03      2          4.0
84141   2019-04      6          5.0
84142   2019-05      2         11.0
84143   2019-06     13         20.0
84144   2019-07     60         38.0
84145   2019-08     41         44.0
84146   2019-09     38         38.0
84147   2019-10      2          7.0
84148   2019-11      3          5.0
84149   2019-12      3          5.0

Enter a meter number ('q' to quit): q</pre>

    <p>If you would like to see two of the charts that your program
    should draw at the end of next lesson, look at the
    "<a target="_blank" href="../lesson10/prove.html#run">Sample
    Run</a>" section of the next prove assignment.</p>

    <h2>Testing Procedure</h2>
    <p>Verify that your program works correctly by following each step
    in this testing procedure:</p>
    <ol class="test">
        <li><div>Run your program and ensure that your program's output
        is the same as the sample run output.</div></li>
    </ol>

    <h2>Submission</h2>
    <p>On or before the due date, return to I-Learn and report your
    progress on this milestone.</p>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
