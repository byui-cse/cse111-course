<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Prove</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
    <link rel="stylesheet" type="text/css" href="../site/hljs/vscode.css">
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
    <script src="../site/url.js"></script>
    <script src="../site/urlWrite.js"></script>
    <script src="../site/color.js"></script>
    <script src="../site/hljs/highlight.pack.js"></script>
</head>

<body>
<header>
    <div class="colorCtrl">&nbsp;</div>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <h2>CSE 111 | <span>Programming with Functions</span></h2>
</header>
<article>
    <h1>09 Prove Milestone: Data Analysis</h1>

    <h2>Overview</h2>
    <p>Prove that you can write a Python program that uses
    <code>pandas</code> to read and analyze data.</p>

    <h2>Helpful Documentation</h2>
    <ol class="long">
        <li><div>The <a target="_blank" href="prepare.html">prepare</a>
        content for this lesson includes example code for the tasks in
        this assignment. Additionally, the prepare content contains
        links to the official <code>pandas</code> tutorials.</div></li>

        <li><div>Grouping and aggregating data is an intermediate data
        analysis operation that can summarize many rows into just a few
        rows. To
        <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/intro_tutorials/06_calculate_statistics.html#aggregating-statistics-grouped-by-category">group and aggregate data</a>,
        use the <code>.groupby</code> and <code>.aggregate</code>
        methods as shown in this template:

<div class="pre"><pre class="python">import pandas as pd

df = pd.read_csv("<var>filename</var>.csv")
group = df.groupby("<var>existing_column_to_group_by</var>")
grouped_df = group.aggregate(
        <var>new_column_name</var>=("<var>existing_column_to_summarize</var>", "<var>function</var>"))</pre></div>

        For example, the following code computes the sum of water usage
        grouped by account type.

<div class="pre"><pre class="python">import pandas as pd

df = pd.read_csv("water.csv", parse_dates=["readDate"])
group = df.groupby("accountType")
grouped_df = group.aggregate(sumUsage=("usage", "sum"))
print(grouped_df)</pre></div>

        And produces the following DataFrame. Notice that the 246,830
        rows from the <code>water.csv</code> file are grouped and
        summarized into just 16 rows.

<pre class="console">
                          sumUsage
accountType
Airport Hanger                 833
Apartment Complex          2393851
BYU-Idaho                  1463713
Business                   1975252
Business with Apartment      23297
Church                      270953
City                        264437
Free                          1648
Out of Town                 111530
Residence                  2849155
Residence with Apartment     11143
School                      262725
Sprinklers                   59386
Town Homes                  215182
Trailer Court               136023
Vacant                       15237</pre></div></li>
    </ol>

    <h2>Assignment</h2>
    <p>During this lesson and the next lesson, you will write a Python
    program that uses <code>pandas</code> to analyze <a download
    href="water.csv">water usage data</a> from the City of Rexburg. Your
    program must be separated into functions where each function
    performs one task only. Your program will allow a user to enter a
    water meter number, a start year, and an end year and then display
    at least two charts to help the user visualize the data for the
    given meter number. During this prove milestone, you will write code
    to read the CSV file, get the user input, and filter and prepare the
    data. During the next prove assignment, you will write code to draw
    the charts.</p>

    <p>Download this Python file: <a download
    href="meter_usage.py"><code>meter_usage.py</code></a> and save it in
    the same folder where you previously saved the
    <code>water.csv</code> file. Open the <code>meter_usage.py</code>
    file in VS Code. Notice that the only function that is complete is
    <code>add_usage_median_column</code>. All the other functions are
    incomplete, and you need to complete them. During this prove
    milestone, you should complete these three functions:</p>
    <ul>
        <li><div><code>add_year_month_column</code></div></li>
        <li><div><code>filter_for_meter</code></div></li>
        <li><div><code>filter_between_dates</code></div></li>
    </ul>

    <p>During the next prove assignment, you should complete these
    functions:</p>
    <ul>
        <li><div><code>main</code></div></li>
        <li><div><code>get_int</code></div></li>
        <li><div><code>show_meter_usage</code></div></li>
        <li><div><code>show_comparison</code></div></li>
        <li><div>any other functions that you add</div></li>
    </ul>

    <p>If you would like to see two of the charts that your program
    should draw at the end of next lesson, look at the
    <a target="_blank" href="../lesson10/prove.html#run">Sample Run</a>
    section of the next prove assignment.</p>

    <h2>Testing Procedure</h2>
    <p>Verify that your program works correctly by following each step
    in this testing procedure:</p>

    <ol class="test long">
        <li><div>Download, examine, and run this Python file named
        <a download href="test_meter_usage.py"><code>test_meter_usage.py</code></a>
        that contains <code>pytest</code> test functions. Verify that
        all the test functions pass. If they don't pass, fix the
        mistakes in your code until they do pass.</div></li>
    </ol>

    <h2>Sample Run</h2>
<pre class="console">&gt; python test_meter_usage.py
========================= test session starts =========================
platform win32 -- Python 3.8.5, pytest-6.1.1, py-1.9.0, pluggy-0.13.1
rootdir: C:\Users\cse111\lesson09
collected 3 items

test_meter_usage.py::test_add_year_month_column <span class="pass">PASSED           [ 33%]</span>
test_meter_usage.py::test_filter_for_meter <span class="pass">PASSED                [ 66%]</span>
test_meter_usage.py::test_filter_between_dates <span class="pass">PASSED            [100%]</span>

<span class="pass">========================== 3 passed in 2.06s ==========================</span></pre>

    <h2>Submission</h2>
    <p>On or before the due date, return to I-Learn and report your
    progress on this milestone.</p>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
