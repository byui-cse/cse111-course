<!DOCTYPE html>
<!-- Copyright 2020, Brigham Young University - Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSE 111 - Prove</title>
    <link rel="icon" type="image/png" href="../site/icon.png">
    <link rel="stylesheet" type="text/css" href="../site/style.css">
    <script src="../site/color.js"></script>
</head>

<body>
<header>
    <div class="colorCtrl">&nbsp;</div>
    <div class="logo">
        <div class="upper">BYU</div>
        <div class="lower">Idaho</div>
    </div>
    <h2>CSE 111 | <span>Programming with Functions</span></h2>
</header>
<article>
    <h1>07 Prove Milestone: Testing and Fixing Functions</h1>

    <h2>Overview</h2>
    <p>Prove that you can write a Python program and write and run test
    functions to help you find and fix mistakes.</p>

    <h2>Problem Statement</h2>
    <p>The molar mass of a substance is the mass in grams of one mole of
    the substance (grams / mole). In chemistry, a molar mass calculator
    is a program that computes the molar mass of a substance. To use a
    molar mass calculator, a chemist enters the formula for a molecule
    such as H<sub>2</sub>O or C<sub>6</sub>H<sub>12</sub>O<sub>6</sub>.
    The calculator splits the formula into elements and for each element
    in the formula does the following:</p>
    <ol>
        <li><div>Sums the number of atoms of each element in the
        formula</div></li>
        <li><div>Looks up the atomic mass of each element</div></li>
        <li><div>Multiplies the number of atoms by the atomic
        mass</div></li>
        <li><div>Adds the product into the molar mass of the
        molecule</div></li>
    </ol>

    <h2>Helpful Documentation</h2>
    <p>If you are interested in the chemistry concepts involved in a
    molar mass calculator, you can watch this Khan Academy video:
    <a target="_blank" href="https://www.khanacademy.org/science/chemistry/atomic-structure-and-properties/introduction-to-compounds/v/worked-example-calculating-molar-mass-and-number-of-moles">Calculating molar mass and number of moles</a>.</p>

    <p>The <a target="_blank" href="prepare.html">prepare</a> content
    for this lesson explains how to use <code>pytest</code>,
    <code>assert</code>, and <code>approx</code> to automatically verify
    that functions are correct. It also contains an
    <a target="_blank" href="prepare.html#ex">example test function</a>
    and links to additional documentation about <code>pytest</code>.</p>

    <h2>Assignment</h2>
    <p>During this lesson and the next lesson, you will write and test a
    molar mass calculator. During this lesson you will complete about
    half of the task by writing three test functions, running four test
    functions, and finding and fixing any mistakes that cause test
    failures.</p>

    <p>Do the following:</p>
    <ol class="long">
        <li><div>Download the
        <a download href="chemistry.py"><code>chemistry.py</code></a> and
        <a download href="test_chemistry.py"><code>test_chemistry.py</code></a>
        Python files and save them in the same folder where you will
        save your Python program. Then open both downloaded files in VS
        Code.</div></li>

        <li><div>Near the middle of the <code>chemistry.py</code> file
        are three functions named <code>get_name</code>,
        <code>get_atomic_mass</code>, and <code>parse_formula</code>.
        Examine the three functions and read their documentation
        strings.
        <ol>
            <li><div>Notice that <code>get_name</code> takes one
            parameter, a chemical element symbol such as "H" or "O", and
            returns the name of the corresponding element.</div></li>
            <li><div>Notice that <code>get_atomic_mass</code> also takes
            one parameter, a chemical element symbol, and returns the
            mass of the element.</div></li>
            <li><div>Notice that <code>parse_formula</code> takes one
            parameter, a string that contains the formula for a molecule
            such as "H2O" or "C6H12O6" and returns a dictionary that
            contains a key value pair for each element that is in the
            formula.</div></li>
        </ol></div></li>

        <li><div><p>Near the top of the <code>test_chemistry.py</code>
        file there are two unfinished functions named
        <code>test_names</code> and <code>test_atomic_masses</code>.
        Write code for <code>test_names</code> so that it tests the
        <code>chemistry.get_name</code> function and write code for
        <code>test_atomic_masses</code> so that it tests the
        <code>chemistry.get_atomic_mass</code> function.</p>

        <p>There are 118 known elements. The names and the atomic masses
        of all 118 must be tested by the code that you write in
        <code>test_names</code> and <code>test_atomic_masses</code>.
        When you are finished writing them, these two test functions
        will each contain at least 118 lines of code. The correct
        symbols, names, and atomic masses for the known elements are
        listed in the following table. We <strong>strongly
        recommend</strong> that you use <strong>copy and paste</strong>
        and <strong>find and replace</strong> to help you quickly write
        <code>test_names</code> and <code>test_atomic_masses</code>. If
        you don't know how to use copy and paste or find and replace to
        help you quickly write these two test functions, ask a fellow
        student, a tutor, a teaching assistant, or your teacher for
        help.</p>

        <div>
            <table style="display:table-cell"><thead>
                <tr><th>Symbol</th> <th>Name</th></tr>
            </thead><tbody>
                <tr><td>Ac</td> <td>Actinium</td></tr>
                <tr><td>Ag</td> <td>Silver</td></tr>
                <tr><td>Al</td> <td>Aluminum</td></tr>
                <tr><td>Am</td> <td>Americium</td></tr>
                <tr><td>Ar</td> <td>Argon</td></tr>
                <tr><td>As</td> <td>Arsenic</td></tr>
                <tr><td>At</td> <td>Astatine</td></tr>
                <tr><td>Au</td> <td>Gold</td></tr>
                <tr><td>B</td> <td>Boron</td></tr>
                <tr><td>Ba</td> <td>Barium</td></tr>
                <tr><td>Be</td> <td>Beryllium</td></tr>
                <tr><td>Bh</td> <td>Bohrium</td></tr>
                <tr><td>Bi</td> <td>Bismuth</td></tr>
                <tr><td>Bk</td> <td>Berkelium</td></tr>
                <tr><td>Br</td> <td>Bromine</td></tr>
                <tr><td>C</td> <td>Carbon</td></tr>
                <tr><td>Ca</td> <td>Calcium</td></tr>
                <tr><td>Cd</td> <td>Cadmium</td></tr>
                <tr><td>Ce</td> <td>Cerium</td></tr>
                <tr><td>Cf</td> <td>Californium</td></tr>
                <tr><td>Cl</td> <td>Chlorine</td></tr>
                <tr><td>Cm</td> <td>Curium</td></tr>
                <tr><td>Cn</td> <td>Copernicium</td></tr>
                <tr><td>Co</td> <td>Cobalt</td></tr>
                <tr><td>Cr</td> <td>Chromium</td></tr>
                <tr><td>Cs</td> <td>Cesium</td></tr>
                <tr><td>Cu</td> <td>Copper</td></tr>
                <tr><td>Db</td> <td>Dubnium</td></tr>
                <tr><td>Ds</td> <td>Darmstadtium</td></tr>
                <tr><td>Dy</td> <td>Dysprosium</td></tr>
                <tr><td>Er</td> <td>Erbium</td></tr>
                <tr><td>Es</td> <td>Einsteinium</td></tr>
                <tr><td>Eu</td> <td>Europium</td></tr>
                <tr><td>F</td> <td>Fluorine</td></tr>
                <tr><td>Fe</td> <td>Iron</td></tr>
                <tr><td>Fl</td> <td>Flerovium</td></tr>
                <tr><td>Fm</td> <td>Fermium</td></tr>
                <tr><td>Fr</td> <td>Francium</td></tr>
                <tr><td>Ga</td> <td>Gallium</td></tr>
                <tr><td>Gd</td> <td>Gadolinium</td></tr>
                <tr><td>Ge</td> <td>Germanium</td></tr>
                <tr><td>H</td> <td>Hydrogen</td></tr>
                <tr><td>He</td> <td>Helium</td></tr>
                <tr><td>Hf</td> <td>Hafnium</td></tr>
                <tr><td>Hg</td> <td>Mercury</td></tr>
                <tr><td>Ho</td> <td>Holmium</td></tr>
                <tr><td>Hs</td> <td>Hassium</td></tr>
                <tr><td>I</td> <td>Iodine</td></tr>
                <tr><td>In</td> <td>Indium</td></tr>
                <tr><td>Ir</td> <td>Iridium</td></tr>
                <tr><td>K</td> <td>Potassium</td></tr>
                <tr><td>Kr</td> <td>Krypton</td></tr>
                <tr><td>La</td> <td>Lanthanum</td></tr>
                <tr><td>Li</td> <td>Lithium</td></tr>
                <tr><td>Lr</td> <td>Lawrencium</td></tr>
                <tr><td>Lu</td> <td>Lutetium</td></tr>
                <tr><td>Lv</td> <td>Livermorium</td></tr>
                <tr><td>Mc</td> <td>Moscovium</td></tr>
                <tr><td>Md</td> <td>Mendelevium</td></tr>
                <tr><td>Mg</td> <td>Magnesium</td></tr>
                <tr><td>Mn</td> <td>Manganese</td></tr>
                <tr><td>Mo</td> <td>Molybdenum</td></tr>
                <tr><td>Mt</td> <td>Meitnerium</td></tr>
                <tr><td>N</td> <td>Nitrogen</td></tr>
                <tr><td>Na</td> <td>Sodium</td></tr>
                <tr><td>Nb</td> <td>Niobium</td></tr>
                <tr><td>Nd</td> <td>Neodymium</td></tr>
                <tr><td>Ne</td> <td>Neon</td></tr>
                <tr><td>Nh</td> <td>Nihonium</td></tr>
                <tr><td>Ni</td> <td>Nickel</td></tr>
                <tr><td>No</td> <td>Nobelium</td></tr>
                <tr><td>Np</td> <td>Neptunium</td></tr>
                <tr><td>O</td> <td>Oxygen</td></tr>
                <tr><td>Og</td> <td>Oganesson</td></tr>
                <tr><td>Os</td> <td>Osmium</td></tr>
                <tr><td>P</td> <td>Phosphorus</td></tr>
                <tr><td>Pa</td> <td>Protactinium</td></tr>
                <tr><td>Pb</td> <td>Lead</td></tr>
                <tr><td>Pd</td> <td>Palladium</td></tr>
                <tr><td>Pm</td> <td>Promethium</td></tr>
                <tr><td>Po</td> <td>Polonium</td></tr>
                <tr><td>Pr</td> <td>Praseodymium</td></tr>
                <tr><td>Pt</td> <td>Platinum</td></tr>
                <tr><td>Pu</td> <td>Plutonium</td></tr>
                <tr><td>Ra</td> <td>Radium</td></tr>
                <tr><td>Rb</td> <td>Rubidium</td></tr>
                <tr><td>Re</td> <td>Rhenium</td></tr>
                <tr><td>Rf</td> <td>Rutherfordium</td></tr>
                <tr><td>Rg</td> <td>Roentgenium</td></tr>
                <tr><td>Rh</td> <td>Rhodium</td></tr>
                <tr><td>Rn</td> <td>Radon</td></tr>
                <tr><td>Ru</td> <td>Ruthenium</td></tr>
                <tr><td>S</td> <td>Sulfur</td></tr>
                <tr><td>Sb</td> <td>Antimony</td></tr>
                <tr><td>Sc</td> <td>Scandium</td></tr>
                <tr><td>Se</td> <td>Selenium</td></tr>
                <tr><td>Sg</td> <td>Seaborgium</td></tr>
                <tr><td>Si</td> <td>Silicon</td></tr>
                <tr><td>Sm</td> <td>Samarium</td></tr>
                <tr><td>Sn</td> <td>Tin</td></tr>
                <tr><td>Sr</td> <td>Strontium</td></tr>
                <tr><td>Ta</td> <td>Tantalum</td></tr>
                <tr><td>Tb</td> <td>Terbium</td></tr>
                <tr><td>Tc</td> <td>Technetium</td></tr>
                <tr><td>Te</td> <td>Tellurium</td></tr>
                <tr><td>Th</td> <td>Thorium</td></tr>
                <tr><td>Ti</td> <td>Titanium</td></tr>
                <tr><td>Tl</td> <td>Thallium</td></tr>
                <tr><td>Tm</td> <td>Thulium</td></tr>
                <tr><td>Ts</td> <td>Tennessine</td></tr>
                <tr><td>U</td> <td>Uranium</td></tr>
                <tr><td>V</td> <td>Vanadium</td></tr>
                <tr><td>W</td> <td>Tungsten</td></tr>
                <tr><td>Xe</td> <td>Xenon</td></tr>
                <tr><td>Y</td> <td>Yttrium</td></tr>
                <tr><td>Yb</td> <td>Ytterbium</td></tr>
                <tr><td>Zn</td> <td>Zinc</td></tr>
                <tr><td>Zr</td> <td>Zirconium</td></tr>
            </tbody></table>

            <table style="display:table-cell; padding-left:3em"><thead>
                <tr><th>Symbol</th> <th>Name</th></tr>
            </thead><tbody>
                <tr><td>Ac</td> <td>227</td></tr>
                <tr><td>Ag</td> <td>107.8682</td></tr>
                <tr><td>Al</td> <td>26.9815386</td></tr>
                <tr><td>Am</td> <td>243</td></tr>
                <tr><td>Ar</td> <td>39.948</td></tr>
                <tr><td>As</td> <td>74.9216</td></tr>
                <tr><td>At</td> <td>210</td></tr>
                <tr><td>Au</td> <td>196.966569</td></tr>
                <tr><td>B</td> <td>10.811</td></tr>
                <tr><td>Ba</td> <td>137.327</td></tr>
                <tr><td>Be</td> <td>9.012182</td></tr>
                <tr><td>Bh</td> <td>272</td></tr>
                <tr><td>Bi</td> <td>208.9804</td></tr>
                <tr><td>Bk</td> <td>247</td></tr>
                <tr><td>Br</td> <td>79.904</td></tr>
                <tr><td>C</td> <td>12.0107</td></tr>
                <tr><td>Ca</td> <td>40.078</td></tr>
                <tr><td>Cd</td> <td>112.411</td></tr>
                <tr><td>Ce</td> <td>140.116</td></tr>
                <tr><td>Cf</td> <td>251</td></tr>
                <tr><td>Cl</td> <td>35.453</td></tr>
                <tr><td>Cm</td> <td>247</td></tr>
                <tr><td>Cn</td> <td>285</td></tr>
                <tr><td>Co</td> <td>58.933195</td></tr>
                <tr><td>Cr</td> <td>51.9961</td></tr>
                <tr><td>Cs</td> <td>132.9054519</td></tr>
                <tr><td>Cu</td> <td>63.546</td></tr>
                <tr><td>Db</td> <td>268</td></tr>
                <tr><td>Ds</td> <td>281</td></tr>
                <tr><td>Dy</td> <td>162.5</td></tr>
                <tr><td>Er</td> <td>167.259</td></tr>
                <tr><td>Es</td> <td>252</td></tr>
                <tr><td>Eu</td> <td>151.964</td></tr>
                <tr><td>F</td> <td>18.9984032</td></tr>
                <tr><td>Fe</td> <td>55.845</td></tr>
                <tr><td>Fl</td> <td>289</td></tr>
                <tr><td>Fm</td> <td>257</td></tr>
                <tr><td>Fr</td> <td>223</td></tr>
                <tr><td>Ga</td> <td>69.723</td></tr>
                <tr><td>Gd</td> <td>157.25</td></tr>
                <tr><td>Ge</td> <td>72.64</td></tr>
                <tr><td>H</td> <td>1.00794</td></tr>
                <tr><td>He</td> <td>4.002602</td></tr>
                <tr><td>Hf</td> <td>178.49</td></tr>
                <tr><td>Hg</td> <td>200.59</td></tr>
                <tr><td>Ho</td> <td>164.93032</td></tr>
                <tr><td>Hs</td> <td>270</td></tr>
                <tr><td>I</td> <td>126.90447</td></tr>
                <tr><td>In</td> <td>114.818</td></tr>
                <tr><td>Ir</td> <td>192.217</td></tr>
                <tr><td>K</td> <td>39.0983</td></tr>
                <tr><td>Kr</td> <td>83.798</td></tr>
                <tr><td>La</td> <td>138.90547</td></tr>
                <tr><td>Li</td> <td>6.941</td></tr>
                <tr><td>Lr</td> <td>262</td></tr>
                <tr><td>Lu</td> <td>174.9668</td></tr>
                <tr><td>Lv</td> <td>293</td></tr>
                <tr><td>Mc</td> <td>288</td></tr>
                <tr><td>Md</td> <td>258</td></tr>
                <tr><td>Mg</td> <td>24.305</td></tr>
                <tr><td>Mn</td> <td>54.938045</td></tr>
                <tr><td>Mo</td> <td>95.96</td></tr>
                <tr><td>Mt</td> <td>276</td></tr>
                <tr><td>N</td> <td>14.0067</td></tr>
                <tr><td>Na</td> <td>22.98976928</td></tr>
                <tr><td>Nb</td> <td>92.90638</td></tr>
                <tr><td>Nd</td> <td>144.242</td></tr>
                <tr><td>Ne</td> <td>20.1797</td></tr>
                <tr><td>Nh</td> <td>284</td></tr>
                <tr><td>Ni</td> <td>58.6934</td></tr>
                <tr><td>No</td> <td>259</td></tr>
                <tr><td>Np</td> <td>237</td></tr>
                <tr><td>O</td> <td>15.9994</td></tr>
                <tr><td>Og</td> <td>294</td></tr>
                <tr><td>Os</td> <td>190.23</td></tr>
                <tr><td>P</td> <td>30.973762</td></tr>
                <tr><td>Pa</td> <td>231.03588</td></tr>
                <tr><td>Pb</td> <td>207.2</td></tr>
                <tr><td>Pd</td> <td>106.42</td></tr>
                <tr><td>Pm</td> <td>145</td></tr>
                <tr><td>Po</td> <td>209</td></tr>
                <tr><td>Pr</td> <td>140.90765</td></tr>
                <tr><td>Pt</td> <td>195.084</td></tr>
                <tr><td>Pu</td> <td>244</td></tr>
                <tr><td>Ra</td> <td>226</td></tr>
                <tr><td>Rb</td> <td>85.4678</td></tr>
                <tr><td>Re</td> <td>186.207</td></tr>
                <tr><td>Rf</td> <td>267</td></tr>
                <tr><td>Rg</td> <td>280</td></tr>
                <tr><td>Rh</td> <td>102.9055</td></tr>
                <tr><td>Rn</td> <td>222</td></tr>
                <tr><td>Ru</td> <td>101.07</td></tr>
                <tr><td>S</td> <td>32.065</td></tr>
                <tr><td>Sb</td> <td>121.76</td></tr>
                <tr><td>Sc</td> <td>44.955912</td></tr>
                <tr><td>Se</td> <td>78.96</td></tr>
                <tr><td>Sg</td> <td>271</td></tr>
                <tr><td>Si</td> <td>28.0855</td></tr>
                <tr><td>Sm</td> <td>150.36</td></tr>
                <tr><td>Sn</td> <td>118.71</td></tr>
                <tr><td>Sr</td> <td>87.62</td></tr>
                <tr><td>Ta</td> <td>180.94788</td></tr>
                <tr><td>Tb</td> <td>158.92535</td></tr>
                <tr><td>Tc</td> <td>98</td></tr>
                <tr><td>Te</td> <td>127.6</td></tr>
                <tr><td>Th</td> <td>232.03806</td></tr>
                <tr><td>Ti</td> <td>47.867</td></tr>
                <tr><td>Tl</td> <td>204.3833</td></tr>
                <tr><td>Tm</td> <td>168.93421</td></tr>
                <tr><td>Ts</td> <td>294</td></tr>
                <tr><td>U</td> <td>238.02891</td></tr>
                <tr><td>V</td> <td>50.9415</td></tr>
                <tr><td>W</td> <td>183.84</td></tr>
                <tr><td>Xe</td> <td>131.293</td></tr>
                <tr><td>Y</td> <td>88.90585</td></tr>
                <tr><td>Yb</td> <td>173.054</td></tr>
                <tr><td>Zn</td> <td>65.38</td></tr>
                <tr><td>Zr</td> <td>91.224</td></tr>
            </tbody></table>
        </div></div></li>

        <li><div>Near the bottom of the <code>test_chemistry.py</code>
        file there is an unfinished function named
        <code>test_parse</code>. Write the <code>test_parse</code>
        function so that it tests the
        <code>chemistry.parse_formula</code> function. Use the following
        molecular formulas and any others you want to add in
        <code>assert</code> statements inside the
        <code>test_parse</code> function:
        <ul>
            <li><div>O3</div></li>
            <li><div>H2O</div></li>
            <li><div>C6H12O6</div></li>
            <li><div>PO4H2(CH2)12CH3</div></li>
        </ul></div></li>

        <li><div>Near the bottom of the <code>test_chemistry.py</code>
        file there is an unfinished function named
        <code>test_molar_mass</code>. Write the
        <code>test_molar_mass</code> function so that it tests the
        <code>chemistry.molar_mass</code> function. Use the following
        molecular formulas and their approximate molar masses in
        <code>assert</code> statements inside the
        <code>test_molar_mass</code> function:
        <table class="center"><thead>
            <tr><th>Formula</th> <th>Approximate<br>Molar Mass</th></tr>
        </thead><tbody>
            <tr><td>H2O</td> <td>18.01528</td></tr>
            <tr><td>C6H6</td> <td>78.11184</td></tr>
            <tr><td>PO4H2(CH2)12CH3</td> <td>280.34072</td></tr>
        </tbody></table></div></li>

        <li><div>Run the four test functions. Fix mistakes, if there are
        any, in the <code>chemistry.init_periodic_table</code> function
        and in the four test functions that you wrote:
        <code>test_names</code>, <code>test_atomic_masses</code>,
        <code>test_parse</code>, and <code>test_molar_mass</code>.
        There are no mistakes in the
        <code>get_name</code>, <code>get_atomic_mass</code>,
        <code>parse_formula</code>, and <code>molar_mass</code>
        functions, so you shouldn't change those four
        functions.</div></li>
    </ol>

    <h2>Sample Run</h2>
<pre class="console">&gt; python test_chemistry.py
========================= test session starts =========================
platform win32 -- Python 3.8.5, pytest-6.1.1, py-1.9.0, pluggy-0.13.1
rootdir: C:\Users\cse111\lesson07
collected 4 items

test_chemistry.py::test_names <span class="pass">PASSED                             [ 25%]</span>
test_chemistry.py::test_atomic_masses <span class="pass">PASSED                     [ 50%]</span>
test_chemistry.py::test_parse <span class="pass">PASSED                             [ 75%]</span>
test_chemistry.py::test_molar_mass <span class="pass">PASSED                        [100%]</span>

<span class="pass">========================== 4 passed in 0.20s ==========================</span></pre>

    <h2>Testing Procedure</h2>
    <p>Verify that the Python code in <code>chemistry.py</code> and
    <code>test_chemistry.py</code> works correctly by using
    <code>pytest</code> to run the four test functions in
    <code>test_chemistry.py</code>.</p>

    <ol class="test long">
        <li><div>If <code>test_names</code> fails, carefully read the
        failure message from <code>pytest</code>. Ask yourself, "Given
        this failure message, which function is incorrect, the
        <code>init_periodic_table</code> function, the
        <code>get_name</code> function, or the <code>test_names</code>
        function?" Fix the function that has a mistake.</div></li>

        <li><div>If <code>test_atomic_masses</code> fails, carefully
        read the failure message from <code>pytest</code>. Ask yourself,
        "Given this failure message, which function is incorrect, the
        <code>init_periodic_table</code> function, the
        <code>get_atomic_mass</code> function, or the
        <code>test_atomic_masses</code> function?" Fix the function that
        has a mistake.</div></li>

        <li><div>If <code>test_parse</code> fails, carefully read the
        failure message from <code>pytest</code> and fix the mistake in
        your <code>test_parse</code> function. In other words, we
        believe there are no mistakes in the <code>parse_formula</code>
        function that your <code>test_parse</code> function will find,
        so if <code>test_parse</code> fails, the mistake is very likely
        in <code>test_parse</code>.</div></li>

        <li><div>If <code>test_molar_mass</code> fails, the mistake is
        almost certainly in the <code>init_periodic_table</code>
        function, and you need to find that mistake and fix it. In other
        words, we believe there are no mistakes in the
        <code>molar_mass</code> and <code>test_molar_mass</code>
        functions.</div></li>
    </ol>

    <h2>Submission</h2>
    <p>On or before the due date, return to I-Learn and report your
    progress on this milestone.</p>
</article>
<footer>
    <small>Copyright &copy; 2020, Brigham Young University - Idaho. All
    rights reserved.</small>
</footer>
</body>
</html>
